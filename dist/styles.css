/* src/styles.css */
/* Tell Tailwind v4 to use its utilities here */
@reference "tailwindcss";

/* -------------------- Root & overlay -------------------- */

.am-modal-root {
  @apply fixed inset-0 flex items-center justify-center px-4 py-6;
}

.am-modal-overlay {
  @apply fixed inset-0 backdrop-blur-[1px];
  /* Overlay color via CSS var, with sensible fallback */
  @apply fixed inset-0 backdrop-blur-[1px];
  background-color: var(--am-modal-overlay-bg, rgba(0, 0, 0, 0.4));
  animation: overlay-fade-in 0.2s ease-out forwards;
}

/* -------------------- Modal box -------------------- */

.am-modal-box {
  @apply relative z-10 w-full max-h-[85vh] overflow-hidden border shadow-2xl flex flex-col;

  /* Core colors (host app can override these) */
  background-color: var(--am-modal-bg, #ffffff);
  color: var(--am-modal-fg, #020617); /* slate-950-ish */
  border-color: var(--am-modal-border, #e2e8f0); /* slate-200-ish */
  border-radius: var(--am-modal-radius, 1rem);
}

/* -------------------- Sizes -------------------- */

.am-modal-size-sm {
  @apply max-w-md;
}

.am-modal-size-md {
  @apply max-w-lg;
}

.am-modal-size-lg {
  @apply max-w-2xl;
}

.am-modal-size-xl {
  @apply max-w-4xl;
}

.am-modal-size-full {
  @apply max-w-[min(100vw-2rem,80rem)];
}

/* -------------------- Variants -------------------- */
/* Variants just change semantic border/accent colors via vars */

.am-modal-variant-default {
  /* uses default border color */
}

.am-modal-variant-danger {
  border-color: var(--am-modal-danger-border, #ef4444); /* red-500-ish */
}

.am-modal-variant-success {
  border-color: var(--am-modal-success-border, #10b981); /* emerald-500-ish */
}

.am-modal-variant-info {
  border-color: var(--am-modal-info-border, #0ea5e9); /* sky-500-ish */
}

/* -------------------- Header + variants -------------------- */

.am-modal-header {
  @apply border-b px-6 py-4 flex flex-col gap-1;

  background-color: var(--am-modal-header-bg, transparent);
  border-color: var(--am-modal-header-border, var(--am-modal-border, #e2e8f0));
}

.am-modal-header-variant-default {
  /* no extra styles */
}

.am-modal-header-variant-danger {
  background-color: var(
    --am-modal-danger-header-bg,
    color-mix(in srgb, #ef4444 5%, transparent)
  );
  border-color: var(--am-modal-danger-border, #ef4444);
}

.am-modal-header-variant-success {
  background-color: var(
    --am-modal-success-header-bg,
    color-mix(in srgb, #10b981 5%, transparent)
  );
  border-color: var(--am-modal-success-border, #10b981);
}

.am-modal-header-variant-info {
  background-color: var(
    --am-modal-info-header-bg,
    color-mix(in srgb, #0ea5e9 5%, transparent)
  );
  border-color: var(--am-modal-info-border, #0ea5e9);
}

/* -------------------- Body & footer -------------------- */

.am-modal-body {
  @apply flex-1 overflow-auto px-6 py-4;
}

.am-modal-footer {
  @apply border-t px-6 py-4 flex items-center justify-end gap-2;
  border-color: var(--am-modal-footer-border, var(--am-modal-border, #e2e8f0));
}

/* -------------------- Close button -------------------- */

.am-modal-close-btn {
  @apply absolute right-4 top-4 inline-flex h-8 w-8 items-center justify-center
    rounded-full border;

  border-color: var(--am-modal-close-border, transparent);
  background-color: var(--am-modal-close-bg, rgba(0, 0, 0, 0.1));
  color: var(--am-modal-close-fg, #020617);
  transition: background-color 0.15s ease, color 0.15s ease,
    border-color 0.15s ease;
}

.am-modal-close-btn:hover {
  background-color: var(--am-modal-close-bg-hover, rgba(0, 0, 0, 0.2));
}

/* -------------------- Animation helpers (no @apply here) -------------------- */

.am-anim-scale {
  animation: modal-scale-in 0.2s ease-out forwards;
}

.am-anim-slide-up {
  animation: modal-slide-up 0.2s ease-out forwards;
}

.am-anim-slide-down {
  animation: modal-slide-down 0.2s ease-out forwards;
}

.am-anim-slide-left {
  animation: modal-slide-left 0.2s ease-out forwards;
}

.am-anim-slide-right {
  animation: modal-slide-right 0.2s ease-out forwards;
}

/* -------------------- Keyframes -------------------- */

@keyframes overlay-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes modal-scale-in {
  from {
    opacity: 0;
    transform: translateY(0.5rem) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes modal-slide-up {
  from {
    opacity: 0;
    transform: translateY(1.5rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes modal-slide-down {
  from {
    opacity: 0;
    transform: translateY(-1.5rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes modal-slide-left {
  from {
    opacity: 0;
    transform: translateX(1.5rem);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes modal-slide-right {
  from {
    opacity: 0;
    transform: translateX(-1.5rem);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
